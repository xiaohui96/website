webpackJsonp([26],{Jzet:function(t,e){},dprT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("a3Yh"),i=a.n(s),n=a("KBI/"),r=a("FWN/"),o=a("lVEp"),c=a("qQTu"),l=a("WYZP"),u={name:"DetectorList",components:{pagination:n.a,dataSearch:o.a,detail:c.a,editService:l.a},data:function(){var t;return t={alarmData:[],page:1,pages:1,current:0,fn:new r.a,GroupID:"",status:"alarm",searchtext:"",rows:10,loading:!0,showDetail:!1,DetailID:"",StartDate:"",EndDate:"",dataTable:null},i()(t,"showDetail",!1),i()(t,"DetailID",""),i()(t,"showService",!1),i()(t,"serviceInfo",""),i()(t,"editType",""),t},mounted:function(){this.service(this.searchtext,this.page,this.rows,"")},methods:{editService:function(t,e){this.showService=!0,this.serviceInfo=t,this.editType=e},getRows:function(){var t=this;setTimeout(function(){t.service(t.searchtext,t.page,t.rows,"")},200)},service:function(t,e,a,s){var i=this;this.loading=!0;var n=sessionStorage.getItem("token");this.fn.service(t,e,a,s,n).then(function(t){var e=JSON.parse(t);if(0==e.code){var a=i;i.alarmData=e.info.rows,i.pages=Math.ceil(e.info.total/i.rows),i.current=parseInt(e.info.total),null==i.dataTable?setTimeout(function(){a.dataTable=$("#dataTableExample").DataTable({columnDefs:[{bSortable:!1,aTargets:[6]}],language:{search:""}})},100):(i.dataTable.destroy(),i.dataTable=null,setTimeout(function(){a.dataTable=$("#dataTableExample").DataTable({columnDefs:[{bSortable:!1,aTargets:[6]}],language:{search:""}})},100))}else"10"==e.code&&(alert("登陆状态失效,请重新登录！"),i.$router.push({name:"login"}))})},paginClick:function(t){this.service(this.searchtext,this.page,this.rows,"")},screening:function(t){this.searchtext=t,this.page=1,this.service(this.searchtext,this.page,this.rows,"")},getDetail:function(t){this.DetailID=t,this.showDetail=!0}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"site-page mianScreen ",staticStyle:{"text-align":"left"}},[a("div",{staticClass:"page-container",attrs:{id:"admui-pageContent"}},[a("div",{staticClass:"page animation-fade"},[a("div",{staticClass:"page-header"},[a("dataSearch")],1),t._v(" "),t.alarmData.length?a("div",{staticClass:"page-content",staticStyle:{height:"750px","padding-bottom":"0","padding-top":"20px"}},[a("div",{staticClass:"panel"},[a("div",{staticClass:"dataTables_length form-inline",staticStyle:{position:"absolute"},attrs:{id:"dataTableExample_length"}},[a("label",[t._v("每页显示 \n\t\t\t    \t\t\t\t"),a("select",{directives:[{name:"model",rawName:"v-model",value:t.rows,expression:"rows"}],staticClass:"form-control input-sm",attrs:{name:"dataTableExample_length","aria-controls":"dataTableExample"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.rows=e.target.multiple?a:a[0]},t.getRows]}},[a("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),a("option",{attrs:{value:"20"}},[t._v("20")])]),t._v("\n\t\t\t\t    \t\t\t条\n\t\t\t\t    \t\t")])]),t._v(" "),a("table",{staticClass:"table table-hover ",attrs:{id:"dataTableExample","data-plugin":"dataTable","data-paging":"false","data-ordering":"true","data-info":"false"}},[t._m(0),t._v(" "),a("tbody",t._l(t.alarmData,function(e,s){return a("tr",[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.AgentID+"."+e.AgentName))]),t._v(" "),a("td",[t._v(t._s(e.CustomerName))]),t._v(" "),a("td",[t._v(t._s(e.DID))]),t._v(" "),a("td",[t._v(t._s(e.deteName))]),t._v(" "),a("td",[t._v(t._s(e.ServiceDate))]),t._v(" "),a("td",{staticClass:"text-nowrap"},[a("button",{staticClass:"btn btn-sm btn-icon btn-flat",staticStyle:{color:"#62a8ea"},attrs:{type:"button",title:"查询维保信息"},on:{click:function(a){t.editService(e,"1")}}},[t._m(1,!0)]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-icon btn-flat",staticStyle:{color:"#62a8ea"},attrs:{type:"button",title:"查询设备详情"},on:{click:function(a){t.getDetail(e.DID)}}},[t._m(2,!0)])])])}))])])]):a("div",{staticClass:"page-content vertical-align-middle",staticStyle:{"min-height":"750px","padding-bottom":"0",width:"100%","text-align":"center"}},[t._m(3)]),t._v(" "),a("pagination",{attrs:{pages:t.pages,current:t.current,curPage:t.page}}),t._v(" "),t.showDetail?a("detail",{attrs:{ID:t.DetailID}}):t._e(),t._v(" "),t.showService?a("editService",{attrs:{info:t.serviceInfo,type:t.editType}}):t._e()],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"3%"}}),t._v(" "),a("th",{staticClass:"text-center"},[t._v("所属代理商")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("所属项目")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("设备ID")]),t._v(" "),a("th",{staticClass:"text-nowrap text-center"},[t._v("设备名称")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("维保日期")]),t._v(" "),a("th",{staticClass:"text-center"},[t._v("操作")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"icon wb-settings",attrs:{"aria-hidden":"true",href:"javascript:void(0)"}},[e("span",{staticClass:"sr-only"},[this._v("查询维保信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"icon wb-search",attrs:{"aria-hidden":"true",href:"javascript:void(0)"}},[e("span",{staticClass:"sr-only"},[this._v("查询设备详情")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h1",{staticClass:"animation-slide-top",staticStyle:{color:"#76838f","margin-top":"100px"}},[this._v("未查询到符合条件的数据")])])}]};var v=a("vSla")(u,d,!1,function(t){a("Jzet")},"data-v-0da23493",null);e.default=v.exports},lVEp:function(t,e,a){"use strict";var s=a("3cXf"),i=a.n(s),n=a("FWN/"),r={data:function(){return{fn:new n.a,status:"全部",treeStatus:!1,fzList:[],showStatus:!0,searchKey:""}},components:{tree:a("HZMF").a},mounted:function(){},methods:{selectVal:function(t){this.status=t},showTree:function(){$(".fenzu").toggleClass("trans"),this.treeStatus=!this.treeStatus},getTypeFz:function(){var t=this,e="";e=""!=this.$store.state.mainPort.admin.getDqCustomerID?this.$store.state.mainPort.admin.getDqCustomerID:this.$store.state.mainPort.admin.getCustomerID;var a=sessionStorage.getItem("token");this.fn.getEFType(a,e).then(function(e){var a=JSON.parse(e);"0"==a.code?t.fzList=JSON.parse("["+i()(a.info)+"]"):"10"==a.code&&(alert("登陆状态失效,请重新登录！"),t.$router.push({name:"login"}))})},send:function(){this.$parent.screening(this.searchKey)}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"searchContent row"},[a("div",{staticClass:"col-sm-9 col-md-5 xys xys2"},[t._v("\n\t\t搜索： \n\t\t"),a("div",{staticStyle:{width:"86%",display:"inline-block"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],staticClass:"form-control",attrs:{type:"text",id:"inputPlaceholder",placeholder:t.showStatus?"输入设备ID号或名称部分内容搜索，多个关键字以分号隔开":"输入设备mac或名称部分内容搜索，多个关键字以分号隔开"},domProps:{value:t.searchKey},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.send(e):null},input:function(e){e.target.composing||(t.searchKey=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-sm-3 col-md-1 xys xys3"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.send()}}},[a("i",{staticClass:"icon wb-search",attrs:{"aria-hidden":"true"}}),t._v(" 搜索 \n\t\t")])])])},staticRenderFns:[]};var c=a("vSla")(r,o,!1,function(t){a("xK5z")},"data-v-27c3342e",null);e.a=c.exports},xK5z:function(t,e){}});
//# sourceMappingURL=26.37e5d54d9bbc78a08d18.js.map